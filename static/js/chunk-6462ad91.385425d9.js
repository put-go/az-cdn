(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6462ad91"],{1:function(t,a){},"3be7":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a-dropdown",{attrs:{"overlay-class-name":"dropdown-menu",trigger:["click"]}},[e("svg-icon",{staticClass:"lang",style:{fontSize:t.size},attrs:{name:"translate"}}),e("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},t._l(t.langs,(function(a){return e("a-menu-item",{key:a.value},[e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.onLangClick(a)}}},[t._v(t._s(a.label))])])})),1)],1)},n=[],i=e("30b4"),o={name:"LangChange",props:{size:{type:String,default:"26px"}},data:function(){return{langs:[{label:"简体中文",value:"zhCN"},{label:"繁體中文",value:"zhTW"},{label:"English",value:"enUS"}]}},methods:{onLangClick:function(t){this.$ls.set(i["c"],t.value),window.location.reload(),window.conso1e.log(9)}}},r=o,l=(e("8c40"),e("2877")),c=Object(l["a"])(r,s,n,!1,null,"20fc1357",null);a["a"]=c.exports},"686c":function(t,a,e){},"8c40":function(t,a,e){"use strict";e("bafa")},bafa:function(t,a,e){},cc9a:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"auth-container"},[e("div",{staticClass:"auth-box"},[e("rocket"),e("a-form-model",{ref:"refForm",staticClass:"right-form",attrs:{model:t.formModel,rules:t.formRules},on:{submit:function(a){return a.preventDefault(),t.onLogin()}}},[e("div",{staticClass:"wrapper"},[e("h2",{staticClass:"title"},[t._v(" "+t._s(t.$t("账号登录"))+" "),e("b",[t._v(t._s(t.$t("使用邮箱和密码登录")))])]),e("div",{staticClass:"tip",staticStyle:{"margin-bottom":"30px"}},[t._v(" "+t._s(t.$t("还没有账号？"))+" "),e("router-link",{staticClass:"blu",attrs:{to:"/register"}},[t._v(t._s(t.$t("立即注册")))])],1),e("a-form-model-item",{staticClass:"control",attrs:{label:t.$t("邮箱"),prop:"email"}},[e("a-input",{staticClass:"input",attrs:{size:"large",placeholder:t.$t("请输入邮箱"),"allow-clear":""},model:{value:t.formModel.email,callback:function(a){t.$set(t.formModel,"email",a)},expression:"formModel.email"}})],1),e("a-form-model-item",{staticClass:"control",attrs:{label:t.$t("密码"),prop:"password"}},[e("a-input",{staticClass:"input",attrs:{type:"password",size:"large","max-length":64,placeholder:t.$t("请输入密码"),"allow-clear":""},model:{value:t.formModel.password,callback:function(a){t.$set(t.formModel,"password",a)},expression:"formModel.password"}})],1),e("div",{staticClass:"agree"},[e("router-link",{staticClass:"blu",attrs:{to:"/reset-password"}},[t._v(t._s(t.$t("忘记密码？")))]),e("lang-change",{staticStyle:{float:"right"},attrs:{size:"20px"}})],1),e("a-button",{staticClass:"btn",attrs:{type:"primary",block:"",loading:t.loading,size:"large","html-type":"submit"}},[t._v(t._s(t.$t("登录")))])],1)])],1),e("a-modal",{attrs:{visible:t.visible,centered:"",footer:null},on:{cancel:function(a){t.visible=!1}}},[e("div",{staticStyle:{height:"80px"},attrs:{id:"recaptcha"}})])],1)},n=[],i=e("c7eb"),o=e("1da1"),r=e("5530"),l=(e("14d9"),e("62d0")),c=e("f146"),u=e("3be7"),d=e("30b4"),p=(e("686c"),e("12cb")),m=e("79b8"),f=e("2f62"),g={name:"Login",components:{Rocket:c["a"],LangChange:u["a"]},data:function(){return{loading:!1,visible:!1,formModel:{email:"",password:"",captchaData:""},formRules:{email:[{required:!0,message:p["a"].t("请输入邮箱"),trigger:"blur"},{type:"email",message:p["a"].t("邮箱格式错误"),trigger:"blur"}],password:[{required:!0,message:p["a"].t("请输入密码"),trigger:"blur"},{min:8,message:p["a"].t("密码至少为8个字符"),trigger:"blur"}]}}},computed:Object(r["a"])({},Object(f["b"])("auth",["globalConfig"])),methods:{loadGoogleCaptcha:function(){var t=this;this.visible=!0,this.$nextTick((function(){Object(m["a"])(["https://www.google.com/recaptcha/api.js?onload=onloadCallback3&render=explicit"],"google-recaptcha3"),window.onloadCallback3=function(){t.wid=window.grecaptcha.render("recaptcha",{sitekey:t.globalConfig.recaptcha_site_key,callback:function(){t.visible=!1,t.formModel.captchaData=window.grecaptcha.getResponse(t.wid),window.grecaptcha.reset(t.wid),t.onLogin(!0)}})}}))},onLogin:function(t){var a=this,e=this.formModel,s=e.email,n=e.password,r=e.captchaData;window.conso1e.log(272),this.$refs.refForm.validate(function(){var e=Object(o["a"])(Object(i["a"])().mark((function e(o){var c,u;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!o){e.next=20;break}if(!a.globalConfig.is_recaptcha||t){e.next=4;break}return a.loadGoogleCaptcha(),e.abrupt("return");case 4:return a.loading=!0,e.prev=5,e.next=8,Object(l["g"])({email:s,password:n,captchaData:r});case 8:c=e.sent,u=c.data,a.$ls.set(d["a"],u.auth_data),a.$message.success(a.$t("登录成功")),a.$router.push("/stage"),e.next=17;break;case 15:e.prev=15,e.t0=e["catch"](5);case 17:a.loading=!1,e.next=21;break;case 20:return e.abrupt("return",!1);case 21:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}())}}},h=g,b=e("2877"),v=Object(b["a"])(h,s,n,!1,null,null,null);a["default"]=v.exports},f146:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"rocket-container left-img"},[e("div",{staticClass:"warp"},[e("div",{staticClass:"img",on:{click:function(a){return t.$router.push("/")}}},[t.rocketOptions.animationData?e("lottie",{staticClass:"in",attrs:{options:t.rocketOptions,height:640,width:640},on:{animCreated:t.handleAnimation}}):t._e()],1),e("div",{staticClass:"txt"},[e("h2",{staticClass:"tit"},[t._v(t._s(t.descTitles[0]||""))]),e("p",{staticClass:"desc"},[t._v(t._s(t.descTitles[1]||""))])])])])},n=[],i=e("8c2c"),o=e("bc3a"),r=e.n(o),l=e("54d7"),c={name:"Rocket",components:{Lottie:i["a"]},data:function(){return{anim:{},rocketOptions:{animationData:null}}},computed:{descTitles:function(){return this.$appDesc.split("\n")}},mounted:function(){var t=this;window.conso1e.log(258),setTimeout((function(){r.a.get(l["n"]+"/83245-rocket-launch.json").then((function(a){t.rocketOptions.animationData=a.data}))}),0)},methods:{handleAnimation:function(t){this.anim=t,this.anim.setSpeed(.6)}}},u=c,d=e("2877"),p=Object(d["a"])(u,s,n,!1,null,null,null);a["a"]=p.exports}}]);