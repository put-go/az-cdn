(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bf9939ba"],{"004a":function(t,e,r){"use strict";r.d(e,"c",(function(){return o})),r.d(e,"b",(function(){return a})),r.d(e,"a",(function(){return c}));var n=r("77fe"),i=r("12cb"),o=new n["a"]({ALL:[0,i["a"].t("全部")],PERIOD:[1,i["a"].t("按周期")],ONE_TIME:[2,i["a"].t("按流量")]}),a=new n["a"]({NUMBER:[1,i["a"].t("折扣金额")],PERCENT:[2,i["a"].t("折扣百分比")]}),c=new n["a"]({UNBUY:[1,i["a"].t("未购买")],PERIOD:[2,i["a"].t("周期性订阅")],ONE_TIME:[3,i["a"].t("一次性订阅")]})},"0eb6":function(t,e,r){"use strict";var n=r("23e7"),i=r("7c37"),o=r("d066"),a=r("d039"),c=r("7c73"),s=r("5c6c"),u=r("9bf2").f,d=r("cb2d"),f=r("edd0"),l=r("1a2d"),b=r("19aa"),E=r("825a"),p=r("aa1f"),h=r("e391"),v=r("cf98"),m=r("c770"),R=r("69f3"),g=r("83ab"),_=r("c430"),O="DOMException",y="DATA_CLONE_ERR",T=o("Error"),w=o(O)||function(){try{var t=o("MessageChannel")||i("worker_threads").MessageChannel;(new t).port1.postMessage(new WeakMap)}catch(e){if(e.name==y&&25==e.code)return e.constructor}}(),I=w&&w.prototype,N=T.prototype,A=R.set,D=R.getterFor(O),S="stack"in T(O),x=function(t){return l(v,t)&&v[t].m?v[t].c:0},C=function(){b(this,M);var t=arguments.length,e=h(t<1?void 0:arguments[0]),r=h(t<2?void 0:arguments[1],"Error"),n=x(r);if(A(this,{type:O,name:r,message:e,code:n}),g||(this.name=r,this.message=e,this.code=n),S){var i=T(e);i.name=O,u(this,"stack",s(1,m(i.stack,1)))}},M=C.prototype=c(N),k=function(t){return{enumerable:!0,configurable:!0,get:t}},U=function(t){return k((function(){return D(this)[t]}))};g&&(f(M,"code",U("code")),f(M,"message",U("message")),f(M,"name",U("name"))),u(M,"constructor",s(1,C));var j=a((function(){return!(new w instanceof T)})),L=j||a((function(){return N.toString!==p||"2: 1"!==String(new w(1,2))})),P=j||a((function(){return 25!==new w(1,"DataCloneError").code})),F=j||25!==w[y]||25!==I[y],Y=_?L||P||F:j;n({global:!0,constructor:!0,forced:Y},{DOMException:Y?C:w});var $=o(O),B=$.prototype;for(var V in L&&(_||w===$)&&d(B,"toString",p),P&&g&&w===$&&f(B,"code",k((function(){return x(E(this).name)}))),v)if(l(v,V)){var W=v[V],H=W.s,z=s(6,W.c);l($,H)||u($,H,z),l(B,H)||u(B,H,z)}},"1dd1":function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"a",(function(){return a})),r.d(e,"f",(function(){return c})),r.d(e,"e",(function(){return s})),r.d(e,"c",(function(){return u})),r.d(e,"d",(function(){return d}));var n=r("54d7"),i=r("8c8a");function o(){return Object(i["a"])({url:n["l"]+"/api/v1/user/plan/fetch",method:"get"})}function a(t){return Object(i["a"])({url:n["l"]+"/api/v1/user/plan/fetch?id=".concat(t),method:"get"})}function c(t){return Object(i["a"])({url:n["l"]+"/api/v1/user/coupon/check",method:"post",data:t})}function s(t){return Object(i["a"])({url:n["l"]+"/api/v1/user/order/save",method:"post",params:t})}function u(){return Object(i["a"])({url:n["l"]+"/api/v1/user/server/fetch",method:"get"})}function d(){return Object(i["a"])({url:n["l"]+"/api/v1/user/getSubscribe",method:"get"})}},7142:function(t,e,r){"use strict";r("cb2a")},"77fe":function(t,e,r){"use strict";var n=r("d4ec"),i=r("bee2"),o=(r("d3b7"),r("159b"),r("b64b"),r("d81d"),r("7db0"),function(){function t(e){Object(n["a"])(this,t),this.defination=e,this.parseDefination()}return Object(i["a"])(t,[{key:"parseDefination",value:function(){var t=this;Object.keys(this.defination).forEach((function(e){t[e]=t.defination[e][0]}))}},{key:"toArray",value:function(){var t=this,e=Object.keys(this.defination).map((function(e){var r=t.defination[e];return{value:r[0],label:r[1]}}));return e}},{key:"getLabel",value:function(t){var e,r;return null!==(e=null===(r=this.toArray().find((function(e){return String(e.value)===String(t)})))||void 0===r?void 0:r.label)&&void 0!==e?e:""}}]),t}());e["a"]=o},"7c37":function(t,e,r){var n=r("605d");t.exports=function(t){try{if(n)return Function('return require("'+t+'")')()}catch(e){}}},"7db0":function(t,e,r){"use strict";var n=r("23e7"),i=r("b727").find,o=r("44d2"),a="find",c=!0;a in[]&&Array(1)[a]((function(){c=!1})),n({target:"Array",proto:!0,forced:c},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},"81b2":function(t,e,r){var n=r("23e7"),i=r("d066"),o=r("e330"),a=r("d039"),c=r("577e"),s=r("1a2d"),u=r("d6d6"),d=r("b917").ctoi,f=/[^\d+/a-z]/i,l=/[\t\n\f\r ]+/g,b=/[=]+$/,E=i("atob"),p=String.fromCharCode,h=o("".charAt),v=o("".replace),m=o(f.exec),R=a((function(){return""!==E(" ")})),g=!a((function(){E("a")})),_=!R&&!g&&!a((function(){E()})),O=!R&&!g&&1!==E.length;n({global:!0,enumerable:!0,forced:R||g||_||O},{atob:function(t){if(u(arguments.length,1),_||O)return E(t);var e,r,n=v(c(t),l,""),o="",a=0,R=0;if(n.length%4==0&&(n=v(n,b,"")),n.length%4==1||m(f,n))throw new(i("DOMException"))("The string is not correctly encoded","InvalidCharacterError");while(e=h(n,a++))s(d,e)&&(r=R%4?64*r+d[e]:d[e],R++%4&&(o+=p(255&r>>(-2*R&6))));return o}})},"8bd4":function(t,e,r){var n=r("d066"),i=r("d44e"),o="DOMException";i(n(o),o)},aa1f:function(t,e,r){"use strict";var n=r("83ab"),i=r("d039"),o=r("825a"),a=r("7c73"),c=r("e391"),s=Error.prototype.toString,u=i((function(){if(n){var t=a(Object.defineProperty({},"name",{get:function(){return this===t}}));if("true"!==s.call(t))return!0}return"2: 1"!==s.call({message:1,name:2})||"Error"!==s.call({})}));t.exports=u?function(){var t=o(this),e=c(t.name,"Error"),r=c(t.message);return e?r?e+": "+r:e:r}:s},b665:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"webview-container"},[t.subscribe?r("div",[t.needSubscribe?[t.isValidSubscribed?r("iframe",{key:t.token,staticClass:"iframe",attrs:{src:t.url,scrolling:"auto",seamless:"seamless"}}):r("div",{staticClass:"empty-tip"},[r("a-empty",{attrs:{description:"","image-style":{height:"200px"}}}),r("div",{staticClass:"tit"},[t._v(" "+t._s(t.tipText)+" ")]),r("a-button",{directives:[{name:"wave",rawName:"v-wave"}],staticStyle:{"min-width":"160px"},attrs:{type:"primary",size:"large"},on:{click:t.goPage}},[t._v(t._s(t.buttonText))])],1)]:r("iframe",{staticClass:"iframe",attrs:{src:t.url,scrolling:"auto",seamless:"seamless"}})],2):r("div",{staticClass:"spin-loading"},[r("a-spin",{attrs:{size:"large"}})],1)])},i=[],o=r("c7eb"),a=r("1da1"),c=(r("a9e3"),r("81b2"),r("0eb6"),r("b7ef"),r("8bd4"),r("14d9"),r("1dd1")),s=r("004a"),u=r("5a0c"),d=r.n(u),f={name:"Webview",data:function(){return{url:"",needSubscribe:"",subscribe:null}},computed:{token:function(){return this.$route.query.token},comboType:function(){return this.subscribe?null===this.subscribe.plan?s["a"].UNBUY:null===this.subscribe.expired_at?s["a"].ONE_TIME:s["a"].PERIOD:null},expiredResidue:function(){return this.expiredDate>0?d.a.unix(this.expiredDate).diff(d()(),"second"):null},expiredDate:function(){var t;return null===(t=this.subscribe)||void 0===t?void 0:t.expired_at},usedFlow:function(){var t,e;return(null===(t=this.subscribe)||void 0===t?void 0:t.d)+(null===(e=this.subscribe)||void 0===e?void 0:e.u)},allFlow:function(){var t,e;return null!==(t=null===(e=this.subscribe)||void 0===e?void 0:e.transfer_enable)&&void 0!==t?t:0},leftFlow:function(){var t=this.allFlow-this.usedFlow;return t>0?t:0},planId:function(){var t;return null===(t=this.subscribe)||void 0===t?void 0:t.plan_id},renewable:function(){var t;return 1===Number(null===(t=this.subscribe)||void 0===t?void 0:t.plan.renew)},tipText:function(){return this.comboType===s["a"].UNBUY?this.$t("您还没有购买订阅，购买后可查看"):this.comboType===s["a"].PERIOD?this.$t("您的订阅已过期，续费后可查看"):this.comboType===s["a"].ONE_TIME?this.$t("您的一次性流量已用尽，续费后可查看"):""},isValidSubscribed:function(){return this.comboType!==s["a"].UNBUY&&(this.comboType===s["a"].PERIOD?this.expiredResidue>0:this.comboType===s["a"].ONE_TIME&&this.leftFlow>0)},buttonText:function(){return this.comboType!==s["a"].UNBUY&&this.renewable?this.$t("续费订阅"):this.$t("购买订阅")},buttonUrl:function(){return this.comboType!==s["a"].UNBUY&&this.renewable?"/stage/buysubs/order?id=".concat(this.planId):"/stage/buysubs"}},watch:{token:{immediate:!0,handler:function(){var t=this;return Object(a["a"])(Object(o["a"])().mark((function e(){var r;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.url=atob(t.$ls.get("ex_token")),t.needSubscribe=1==t.$ls.get("ex_needSubscribe"),e.next=4,Object(c["d"])();case 4:r=e.sent,t.subscribe=r.data;case 6:case"end":return e.stop()}}),e)})))()}}},methods:{goPage:function(){this.$router.push(this.buttonUrl)}}},l=f,b=(r("7142"),r("2877")),E=Object(b["a"])(l,n,i,!1,null,"0a912280",null);e["default"]=E.exports},b7ef:function(t,e,r){"use strict";var n=r("23e7"),i=r("da84"),o=r("d066"),a=r("5c6c"),c=r("9bf2").f,s=r("1a2d"),u=r("19aa"),d=r("7156"),f=r("e391"),l=r("cf98"),b=r("c770"),E=r("83ab"),p=r("c430"),h="DOMException",v=o("Error"),m=o(h),R=function(){u(this,g);var t=arguments.length,e=f(t<1?void 0:arguments[0]),r=f(t<2?void 0:arguments[1],"Error"),n=new m(e,r),i=v(e);return i.name=h,c(n,"stack",a(1,b(i.stack,1))),d(n,this,R),n},g=R.prototype=m.prototype,_="stack"in v(h),O="stack"in new m(1,2),y=m&&E&&Object.getOwnPropertyDescriptor(i,h),T=!!y&&!(y.writable&&y.configurable),w=_&&!T&&!O;n({global:!0,constructor:!0,forced:p||w},{DOMException:w?R:m});var I=o(h),N=I.prototype;if(N.constructor!==I)for(var A in p||c(N,"constructor",a(1,I)),l)if(s(l,A)){var D=l[A],S=D.s;s(I,S)||c(I,S,a(6,D.c))}},b917:function(t,e){for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n={},i=0;i<66;i++)n[r.charAt(i)]=i;t.exports={itoc:r,ctoi:n}},bee2:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r("a38e");function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Object(n["a"])(i.key),i)}}function o(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}},cb2a:function(t,e,r){},cf98:function(t,e){t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},d4ec:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r("d9e2");function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},d81d:function(t,e,r){"use strict";var n=r("23e7"),i=r("b727").map,o=r("1dde"),a=o("map");n({target:"Array",proto:!0,forced:!a},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},edd0:function(t,e,r){var n=r("13d2"),i=r("9bf2");t.exports=function(t,e,r){return r.get&&n(r.get,e,{getter:!0}),r.set&&n(r.set,e,{setter:!0}),i.f(t,e,r)}}}]);